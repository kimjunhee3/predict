<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Íµ¨Îã®Î≥Ñ ÏäπÎ∂ÄÏòàÏ∏° ÎπÑÍµê</title>
    <style>
        html {
            background: #fff; /* Ï∂îÍ∞Ä: ÏÉÅÏúÑ Î£®Ìä∏ÎèÑ Ìù∞ÏÉâÏúºÎ°ú Í≥†Ï†ï */
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background: #fff; /* Î≥ÄÍ≤Ω: #f0ede6 -> #fff */
            color: #23283a;
            margin: 0;
            min-height: 100vh;
        }
        .container {
            max-width: 880px;
            margin: 40px auto;
            padding: 32px;
            background: #fff;
            border-radius: 18px;
            box-shadow: none;
            color: #23283a;
        }
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            color: #f7c873;
            margin-bottom: 30px;
            text-align: center;
        }
        form {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
        }
        select, button {
            padding: 12px 18px;
            font-size: 1rem;
            border-radius: 8px;
            border: 1px solid #d1d5db;
            outline: none;
        }
        button {
            background: linear-gradient(90deg, #f7c873 60%, #e67e22 100%);
            color: #23283a;
            font-weight: 700;
            border: none;
            cursor: pointer;
        }
        .match-card {
            background: #f7f7fc;
            border-radius: 16px;
            padding: 24px;
            color: #23283a;
            box-shadow: 0 4px 24px #0002;
            margin: 0 auto 32px auto;
        }
        .teams-vs {
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            gap: 24px;
            background: #ececec;
            padding: 24px;
            border-radius: 16px;
        }
        .team-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 50%;
        }
        .team-img {
            width: 100%;
            height: 460px;
            object-fit: cover;
            object-position: top;
            border-radius: 12px;
            background: #dbe2ef;
            box-shadow: 0 2px 12px #0004;
        }
        .team-label {
            margin-top: 8px;
            font-size: 1.4rem;
            font-weight: 600;
        }
        .vs {
            font-size: 3rem;
            font-weight: bold;
            color: #f7c873;
            align-self: center;
        }
        .bar-chart {
            display: flex;
            flex-direction: column;
            margin-top: 30px;
            gap: 10px;
        }
        .bar-row {
            display: flex;
            height: 48px;
            font-weight: bold;
            font-size: 1.2rem;
            border: 1px solid #aaa;
            overflow: hidden;
            background: #ececec;
        }
        .bar-label {
            width: 90px;
            text-align: center;
            line-height: 48px;
            background: #ddd;
            color: #23283a;
        }
        .bar-dynamic {
            display: flex;
            flex-grow: 1;
        }
        .bar-left, .bar-right {
            text-align: center;
            line-height: 48px;
            background-color: transparent;
            font-weight: bold;
        }
        .bar-link {
            display: block;
            height: 48px;
            text-decoration: none;
        }
        .predict-text {
            margin-top: 24px;
            font-size: 1rem;
            color: #23283a;
            background: #f7f7fc;
            border-radius: 7px;
            padding: 12px;
            border: 1px solid #f7c873;
        }
    </style>
</head>
<body>
    <div class="container">
        <form action="/" method="POST">
            <select name="team" onchange="this.form.submit()">
                {% for team in teams %}
                    <option value="{{ team }}" {% if selected_team == team %}selected{% endif %}>{{ team }}</option>
                {% endfor %}
            </select>
        </form>

        {% if selected_team and statiz and naver %}
        <div class="match-card">
            <div class="teams-vs">
                <div class="team-box">
                    <img class="team-img" src="/static/player/{{ player_img_map[statiz.left_team]['ÏïºÏàò'] }}">
                    <div class="team-label">{{ statiz.left_team }}</div>
                </div>
                <div class="vs">VS</div>
                <div class="team-box">
                    <img class="team-img" src="/static/player/{{ player_img_map[statiz.right_team]['Ìà¨Ïàò'] }}">
                    <div class="team-label">{{ statiz.right_team }}</div>
                </div>
            </div>

            <div class="bar-chart">
                <div class="bar-row">
                    <div class="bar-label">STATIZ</div>
                    <div class="bar-dynamic">
                        <a class="bar-link" href="https://statiz.sporki.com/prediction/" target="_blank" style="width: {{ statiz.left_percent }}%;">
                            <div class="bar-left" style="width:100%; background-color: {% if statiz.left_percent > statiz.right_percent %}{{ team_colors[statiz.left_team] }}{% else %}#fff{% endif %}; color: {% if statiz.left_percent > statiz.right_percent %}#fff{% else %}#23283a{% endif %};">
                                {{ statiz.left_percent_str }}
                            </div>
                        </a>
                        <a class="bar-link" href="https://statiz.sporki.com/prediction/" target="_blank" style="width: {{ statiz.right_percent }}%;">
                            <div class="bar-right" style="width:100%; background-color: {% if statiz.right_percent > statiz.left_percent %}{{ team_colors[statiz.right_team] }}{% else %}#fff{% endif %}; color: {% if statiz.right_percent > statiz.left_percent %}#fff{% else %}#23283a{% endif %};">
                                {{ statiz.right_percent_str }}
                            </div>
                        </a>
                    </div>
                </div>
                <div class="bar-row">
                    <div class="bar-label">NAVER</div>
                    <div class="bar-dynamic">
                        <a class="bar-link" href="https://m.sports.naver.com/predict?tab=today&groupId=kbaseball&categoryId=kbo" target="_blank" style="width: {{ naver.percent1 }}%;">
                            <div class="bar-left" style="width:100%; background-color: {% if naver.percent1 > naver.percent2 %}{{ team_colors[statiz.left_team] }}{% else %}#fff{% endif %}; color: {% if naver.percent1 > naver.percent2 %}#fff{% else %}#23283a{% endif %};">
                                {{ naver.percent1_str }}
                            </div>
                        </a>
                        <a class="bar-link" href="https://m.sports.naver.com/predict?tab=today&groupId=kbaseball&categoryId=kbo" target="_blank" style="width: {{ naver.percent2 }}%;">
                            <div class="bar-right" style="width:100%; background-color: {% if naver.percent2 > naver.percent1 %}{{ team_colors[statiz.right_team] }}{% else %}#fff{% endif %}; color: {% if naver.percent2 > naver.percent1 %}#fff{% else %}#23283a{% endif %};">
                                {{ naver.percent2_str }}
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            {% if statiz.predict_text %}
            <div class="predict-text">
                üìù <b>ÏòàÏ∏° ÌÖçÏä§Ìä∏:</b> {{ statiz.predict_text }}
            </div>
            {% endif %}
        </div>
        {% elif selected_team %}
            <div style="color:#f7c873; text-align:center; margin-top:32px;">
                Ìï¥Îãπ Íµ¨Îã®Ïùò ÏòàÏ∏° Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.
            </div>
        {% endif %}
    </div>
</body>
</html>
